"use strict";function loadImages(e,n){var a=this;this.images={};for(var i=0,t=0;t<e.length;t++){var o=new Image;o.onload=r,o.src=e[t],this.images[t]=o}function r(t){++i>=e.length&&n(a.images)}}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,16.666)};var activeNow=0,paths=[],windowWidth=window.innerWidth;if(900<windowWidth)for(var i=0;i<61;i++)paths.push("./img/frames/desk/".concat(i,".png"));else for(i=0;i<61;i++)paths.push("./img/frames/mob/".concat(i,".png"));var imgs=[];if(900<windowWidth)var loader=new loadImages(paths,function(t){imgs=t});else loader=new loadImages(paths,function(t){imgs=t});document.addEventListener("DOMContentLoaded",function(){var n=document.querySelector("#boxVideo"),t=n.querySelector("canvas"),a=t.getContext("2d");t.width=window.devicePixelRatio*n.clientWidth,t.height=t.width;window.innerWidth,window.innerHeight;function i(t,e,n,a,i,o,r,s){2===arguments.length&&(n=a=0,i=t.canvas.width,o=t.canvas.height),(r="number"==typeof r?r:.5)<0&&(r=0),(s="number"==typeof s?s:.5)<0&&(s=0),1<r&&(r=1),1<s&&(s=1);var m,l,d,w,h=e.width,c=e.height,g=Math.min(i/h,o/c),u=h*g,f=c*g,p=1;u<i&&(p=i/u),Math.abs(p-1)<1e-14&&f<o&&(p=o/f),(m=(h-(d=h/((u*=p)/i)))*r)<0&&(m=0),(l=(c-(w=c/((f*=p)/o)))*s)<0&&(l=0),h<d&&(d=h),c<w&&(w=c),t.clearRect(0,0,2e3,2e3),t.drawImage(e,m,l,d,w,n,a,i,o)}var e=function(){var t=document.querySelector("#boxVideo-end").getBoundingClientRect().top-document.querySelector("#boxVideo-start").getBoundingClientRect().top,e=-document.querySelector("#boxVideo-start").getBoundingClientRect().top/t;0<e&&e<1&&imgs[Math.floor(60*e)]?(i(a,imgs[Math.floor(60*e)]),activeNow=Math.floor(60*e),n.style.WebkitTransform="translateY("+Math.floor(e*t)+"px) translateX(-50%)",n.style.transform="translateY("+Math.floor(e*t)+"px) translateX(-50%)"):0<e&&e<1&&paths[Math.floor(60*e)]&&1<=imgs.length?(i(a,imgs[imgs.length-1]),n.style.WebkitTransform="translateY("+Math.floor(e*t)+"px) translateX(-50%)",n.style.transform="translateY("+Math.floor(e*t)+"px) translateX(-50%)"):e<=0&&imgs[0]?(i(a,imgs[0]),activeNow=0,n.style.WebkitTransform="translateY(0px) translateX(-50%)",n.style.transform="translateY(0px) translateX(-50%)"):1<=e&&imgs[60]&&(i(a,imgs[60]),activeNow=60,n.style.WebkitTransform="translateY("+t+"px) translateX(-50%)",n.style.transform="translateY("+t+"px) translateX(-50%)")};window.requestAnimFrame(function t(){e(),window.requestAnimFrame(t)});document.querySelector(".preload_img")});